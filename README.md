# PatternDesignDemo1 设计模式实验一
1．在某图形库API中提供了多种矢量图模板，用户可以基于这些矢量图创建不同的显示图形，图形库设计人员设计的初始类图如下所示：\
在该图形库中，每个图形类（如Circle、Triangle等）的init()方法用于初始化所创建的图形， setColor()方法用于给图形设置边框颜色，fill()方法用于给图形设置填充颜色，setSize()方法用于设置图形的大小，display()方法用于显示图形。\
客户类(Client)在使用该图形库时发现存在如下问题：\
(1)由于在创建窗口时每次只需要使用图形库中的一种图形，因此在更换图形时需要修改客户类源代码；\
(2)在图形库中增加并使用新的图形时需要修改客户类源代码；\
(3)客户类在每次使用图形对象之前需要先创建图形对象，有些图形的创建过程较为复杂，导致客户类代码冗长且难以维护。\
现需要根据面向对象设计原则对该系统进行重构，要求如下：\
(1)隔离图形的创建和使用，将图形的创建过程封装在专门的类中，客户类在使用图形时无须直接创建图形对象，甚至不需要关心具体图形类类名；\
(2)客户类能够方便地更换图形或使用新增图形，无须针对具体图形类编程，符合开闭原则。\
绘制重构之后的类图并说明在重构过程中所运用的面向对象设计原则。

2．在某RPG游戏中使用简单工厂模式创建游戏角色，该游戏可根据用户所选择的参数来创建不同的角色(Role)，例如参数为“angel”时创建一个天使角色，参数为“hero”时创建一个英雄角色，参数为“witch”时创建一个女巫角色。绘制类图并使用Java语言编程模拟实现。

3．现需要设计一个程序来读取多种不同类型的图片格式，针对每一种图片格式都设计一个图片读取器(ImageReader)，如GIF图片读取器(GifReader)用于读取GIF格式的图片、JPG图片读取器(JpgReader)用于读取JPG格式的图片。图片读取器对象通过图片读取器工厂ImageReaderFactory来创建，ImageReaderFactory是一个抽象类，用于定义创建图片读取器的工厂方法，其子类GifReaderFactory和JpgReaderFactory用于创建具体的图片读取器对象。使用工厂方法模式设计该程序，绘制类图并编程模拟实现。需充分考虑系统的灵活性和可扩展性。

4．某系统为了改进数据库操作的性能，用户可以自定义数据库连接对象Connection和语句对象Statement，针对不同类型的数据库提供不同的连接对象和语句对象，例如提供Oracle或MySQL专用连接类和语句类，而且用户可以通过配置文件等方式根据实际需要动态更换系统数据库。使用抽象工厂模式设计该系统，要求绘制对应的类图并使用Java语言编程模拟实现。

5．使用单例模式的思想实现多例模式(Multiton)，确保系统中某个类的对象只能存在有限个，例如两个或三个，设计并编写代码实现一个多例类。

6．使用单例模式设计一个多文档窗口（注：在Java AWT/Swing开发中可使用JDesktopPane和JInternalFrame来实现），要求在主窗体中某个内部子窗体只能实例化一次，即只能弹出一个相同的子窗体，如下图所示，编程实现该功能。
（注：用C#或C++实现类似功能也可以）

7．现有一个接口DataOperation定义了排序方法sort(int[]) 和查找方法search(int[], int)，已知类QuickSort的quickSort(int[])方法实现了快速排序算法，类BinarySearch 的binarySearch(int[], int)方法实现了二分查找算法。试使用适配器模式设计一个系统，在不修改源代码的情况下将类QuickSort和类BinarySearch的方法适配到DataOperation接口中。绘制类图并编程实现。（要求实现快速排序和二分查找，使用对象适配器实现）

8．空客(Airbus)、波音(Boeing)和麦道(McDonnell-Douglas)都是飞机制造商，它们都生产载客飞机(Passenger Plane)和载货飞机(Cargo Plane)。现需要设计一个系统，描述这些飞机制造商以及它们所制造的飞机种类。绘制类图并编程模拟实现。

9．某移动社交软件欲增加一个群组(Group)功能。通过设置，用户可以将自己的动态信息，包括最新动态、新上传的视频以及分享的链接等，分享给某个特定的成员(Member)，也可以分享给某个群组中的所有成员；用户可以将成员添加至某个指定的群组；此外，还允许用户在一个群组中添加子群组，以便更加灵活地实现面向特定人群的信息共享。\
选择一种合适的设计模式来设计该群组功能，要求给出该模式的名称及定义，结合场景绘制相应的结构图并编程模拟实现（类名、方法名和属性名可自行定义）。

10．某教育机构组织结构如下图所示：\
在该教育机构的OA系统中可以给各级办公室下发公文，试采用组合模式设计该机构的组织结构，绘制相应的类图并编程模拟实现，在客户端代码中模拟下发公文。
